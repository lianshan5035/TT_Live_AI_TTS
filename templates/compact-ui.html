<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TT-Live-AI 语音生成系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/compact-ui.css') }}">
</head>
<body>
    <div class="app-container">
        <!-- 顶部导航 -->
        <header class="top-bar">
            <div class="logo">
                <i class="fa-solid fa-microphone"></i>
                <span>TT-Live-AI</span>
            </div>
            <div class="nav-controls">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fa-solid fa-moon"></i>
                </button>
                <div class="status-indicator">
                    <span class="status-dot" id="statusDot"></span>
                    <span id="statusText">系统正常</span>
                </div>
            </div>
        </header>

        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 文件上传区域 -->
            <section class="upload-section">
                <div class="section-header">
                    <h2><i class="fa-solid fa-cloud-arrow-up"></i> Excel文件上传</h2>
                </div>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <i class="fa-solid fa-file-excel"></i>
                        <p>拖拽Excel文件到此处或点击选择</p>
                        <button class="btn btn-primary" id="fileUploadBtn">
                            <i class="fa-solid fa-folder-open"></i> 选择文件
                        </button>
                        <p class="upload-tips">支持 .xlsx, .xls, .csv, .tsv, .txt 格式</p>
                    </div>
                </div>
                <input type="file" id="fileInput" accept=".xlsx,.xls,.csv,.tsv,.txt" style="display: none;">
            </section>

            <!-- 进度显示区域 -->
            <section class="progress-section" id="progressSection" style="display: none;">
                <div class="section-header">
                    <h2><i class="fa-solid fa-chart-line"></i> 处理进度</h2>
                </div>
                <div class="progress-container" id="progressContainer">
                    <!-- 进度条将动态插入这里 -->
                </div>
            </section>

            <!-- 功能控制区域 -->
            <div class="controls-grid">
                <!-- 语音设置 -->
                <section class="control-panel">
                    <div class="panel-header">
                        <h3><i class="fa-solid fa-sliders-h"></i> 语音设置</h3>
                    </div>
                    <div class="control-group">
                        <label>音色选择</label>
                        <select id="voiceSelect" class="form-control">
                            <option value="en-US-JennyNeural">Jenny (美式女声)</option>
                            <option value="en-US-GuyNeural">Guy (美式男声)</option>
                            <option value="en-US-AriaNeural">Aria (美式女声)</option>
                            <option value="en-US-DavisNeural">Davis (美式男声)</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>情绪模式</label>
                        <select id="emotionSelect" class="form-control">
                            <option value="Friendly">友好</option>
                            <option value="Calm">平静</option>
                            <option value="Confident">自信</option>
                            <option value="Excited">兴奋</option>
                            <option value="Playful">活泼</option>
                            <option value="Urgent">紧急</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>语速调节</label>
                        <input type="range" id="rateSlider" min="-50" max="50" value="0" class="slider">
                        <span id="rateValue">0%</span>
                    </div>
                    <div class="control-group">
                        <label>音调调节</label>
                        <input type="range" id="pitchSlider" min="-50" max="50" value="0" class="slider">
                        <span id="pitchValue">0Hz</span>
                    </div>
                </section>

                <!-- 快速操作 -->
                <section class="control-panel">
                    <div class="panel-header">
                        <h3><i class="fa-solid fa-bolt"></i> 快速操作</h3>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="testVoiceBtn">
                            <i class="fa-solid fa-play"></i> 试听语音
                        </button>
                        <button class="btn btn-success" id="generateBtn" disabled>
                            <i class="fa-solid fa-magic"></i> 开始生成
                        </button>
                        <button class="btn btn-info" id="downloadBtn" disabled>
                            <i class="fa-solid fa-download"></i> 下载音频
                        </button>
                        <button class="btn btn-warning" id="clearBtn">
                            <i class="fa-solid fa-trash"></i> 清空记录
                        </button>
                    </div>
                </section>

                <!-- 系统状态 -->
                <section class="control-panel">
                    <div class="panel-header">
                        <h3><i class="fa-solid fa-info-circle"></i> 系统状态</h3>
                    </div>
                    <div class="status-grid">
                        <div class="status-item">
                            <span class="status-label">TTS服务</span>
                            <span class="status-value" id="ttsStatus">正常</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Web服务</span>
                            <span class="status-value" id="webStatus">正常</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">已处理文件</span>
                            <span class="status-value" id="processedCount">0</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">生成音频</span>
                            <span class="status-value" id="audioCount">0</span>
                        </div>
                    </div>
                </section>
            </div>

            <!-- 文件列表和日志 -->
            <div class="content-grid">
                <!-- 最近文件 -->
                <section class="file-section">
                    <div class="section-header">
                        <h3><i class="fa-solid fa-clock"></i> 最近处理</h3>
                        <button class="btn btn-sm btn-outline" id="refreshBtn">
                            <i class="fa-solid fa-refresh"></i> 刷新
                        </button>
                    </div>
                    <div class="file-list" id="fileList">
                        <div class="empty-state">
                            <i class="fa-solid fa-file-circle-plus"></i>
                            <p>暂无处理记录</p>
                        </div>
                    </div>
                </section>

                <!-- 活动日志 -->
                <section class="log-section">
                    <div class="section-header">
                        <h3><i class="fa-solid fa-list"></i> 活动日志</h3>
                        <button class="btn btn-sm btn-outline" id="clearLogBtn">
                            <i class="fa-solid fa-trash"></i> 清空
                        </button>
                    </div>
                    <div class="log-container" id="logContainer">
                        <div class="log-entry">
                            <span class="log-time">系统启动</span>
                            <span class="log-message">TT-Live-AI 语音生成系统已就绪</span>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Toast 通知 -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="{{ url_for('static', filename='js/compact-ui.js') }}"></script>
</body>
</html>

# 🔧 TTS参数实时调整系统使用指南

## 📋 系统概述

TTS参数实时调整系统允许您在音频生成过程中实时修改各种参数，无需重启服务。特别针对舒缓型音频语速过慢的问题，提供了快速调整功能。

## 🎯 主要功能

### 1. 情绪参数调整
- **紧迫型 (Urgent)**: 语速较快，音调略高
- **舒缓型 (Calm)**: 语速正常，音调平稳 ⭐ **已优化**
- **温暖型 (Warm)**: 语速适中，音调温暖
- **兴奋型 (Excited)**: 语速较快，音调较高
- **专业型 (Professional)**: 语速稳定，音调专业

### 2. 系统参数调整
- **并发数 (max_concurrent)**: 同时处理的请求数量
- **批处理大小 (batch_size)**: 每批处理的脚本数量
- **批次延迟 (batch_delay)**: 批次间的等待时间
- **文件延迟 (file_delay)**: 文件间的等待时间

## 🚀 使用方法

### 方法一：快速调整脚本
```bash
# 快速调整舒缓型语速
cd /Volumes/M2/TT_Live_AI_TTS
python3 29_配置管理_实时参数调整和系统配置/quick_fix_calm_speed.py
```

### 方法二：Web界面调整
```bash
# 启动Web配置界面
cd /Volumes/M2/TT_Live_AI_TTS
python3 29_配置管理_实时参数调整和系统配置/web_config_manager.py
```
然后访问: http://localhost:5002

### 方法三：命令行配置管理器
```bash
# 启动交互式配置管理器
cd /Volumes/M2/TT_Live_AI_TTS
python3 29_配置管理_实时参数调整和系统配置/config_manager.py
```

## 📊 当前配置状态

### 舒缓型参数 (已优化)
- **语速范围**: [0.7, 0.9] ✅ **已调整为正常语速**
- **音调范围**: [0.8, 1.0]
- **音量范围**: [0.7, 0.9]
- **说明**: 舒缓型 - 语速正常，音调平稳

### 其他情绪类型
| 情绪类型 | 语速范围 | 语速等级 | 说明 |
|---------|---------|---------|------|
| 紧迫型 | 0.8-1.2 | 🚶‍♂️ 正常 | 语速较快，音调略高 |
| 舒缓型 | 0.7-0.9 | 🚶 较慢 | 语速正常，音调平稳 |
| 温暖型 | 0.8-1.0 | 🚶‍♂️ 正常 | 语速适中，音调温暖 |
| 兴奋型 | 1.0-1.3 | 🏃 较快 | 语速较快，音调较高 |
| 专业型 | 0.8-1.0 | 🚶‍♂️ 正常 | 语速稳定，音调专业 |

## 🔧 参数说明

### 语速参数 (Rate)
- **范围**: 0.1 - 2.0
- **默认**: 1.0 (正常语速)
- **舒缓型**: 0.7-0.9 (已优化为正常语速)
- **说明**: 数值越大语速越快

### 音调参数 (Pitch)
- **范围**: 0.1 - 2.0
- **默认**: 1.0 (正常音调)
- **说明**: 数值越大音调越高

### 音量参数 (Volume)
- **范围**: 0.1 - 2.0
- **默认**: 1.0 (正常音量)
- **说明**: 数值越大音量越大

## 📁 文件结构

```
29_配置管理_实时参数调整和系统配置/
├── tts_config.json              # 主配置文件
├── config_manager.py            # 命令行配置管理器
├── quick_fix_calm_speed.py      # 快速调整舒缓型语速
├── web_config_manager.py        # Web界面配置管理器
└── README.md                    # 使用说明
```

## ⚠️ 重要提示

1. **参数修改后需要重启TTS服务**才能生效
2. **建议在生成前调整参数**，避免中途修改
3. **舒缓型语速已优化**，从过慢调整为正常语速
4. **配置文件会自动保存**，修改会持久化

## 🔄 重启TTS服务

修改参数后，需要重启TTS服务：

```bash
# 停止当前TTS服务
pkill -f "run_tts_TTS语音合成服务.py"

# 重新启动TTS服务
cd /Volumes/M2/TT_Live_AI_TTS
python3 02_TTS服务_语音合成系统/run_tts_TTS语音合成服务.py --port 5001 &
```

## 🎉 优化效果

通过调整舒缓型语速参数：
- ✅ **语速范围**: 从 [0.5, 0.7] 调整为 [0.7, 0.9]
- ✅ **语速等级**: 从"很慢"提升到"较慢"
- ✅ **用户体验**: 舒缓型音频不再过慢，保持舒缓感的同时提高可听性

## 📞 技术支持

如有问题，请检查：
1. 配置文件是否正确保存
2. TTS服务是否已重启
3. 参数值是否在有效范围内
4. 日志文件中的错误信息
